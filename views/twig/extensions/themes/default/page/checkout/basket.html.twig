{% extends "page/checkout/basket.html.twig" %}

{% block checkout_basket_main %}

    {% if oViewConf.getFFBoolConfigParam("ffCampaigns") %}
        {% include '@ffwebcomponents/webcomponents/widget/campaign/feedbacktext' with {flag: "is-shopping-cart-campaign"} %}
    {% endif %}

    {{ parent() }}
    {% set basketitemlist = oView.getBasketArticles() %}

    {% if oView.getBasketArticles()|length %}
        {% if oViewConf.getFFBoolConfigParam("ffCampaigns") %}
            <ff-campaign-shopping-cart record-id="{{ basketitemlist|map((record) => record.oxarticles__oxartnum)|join(',') }}">
            </ff-campaign-shopping-cart>
        {% endif %}

        {% if oViewConf.getFFBoolConfigParam("ffPushedProducts") %}
            {% include '@ffwebcomponents/webcomponents/widget/campaign/pushed_products.html.twig' with {flag: "is-shopping-cart-campaign"} %}
        {% endif %}
    {% endif %}

{% endblock %}
